import e,{useState as t,useEffect as n,useCallback as r,useMemo as o}from"react";const a=e.memo((({cursor:r,color:o,delay:a})=>{const[l,s]=t(!0);return n((()=>{const e=setInterval((()=>s((e=>!e))),a);return()=>clearInterval(e)}),[a]),e.createElement("div",{style:{display:"inline-block",opacity:l?1:0,transition:"opacity 0.2s ease-in-out",color:o||"inherit"}},r)}));a.displayName="BlinkingCursor";const l=r=>{var{isLast:o,handleEndOfTyping:l,nextDelay:s=0,repeatDelay:i=0,setIsEnded:c,tag:y="p",yoyo:u=!1,content:m="",delay:p=100,cursor:d="|",cursorDelay:f=300,cursorColor:g=""}=r,E=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(r,["isLast","handleEndOfTyping","nextDelay","repeatDelay","setIsEnded","tag","yoyo","content","delay","cursor","cursorDelay","cursorColor"]);const O=y,[T,b]=t(0),[x,D]=t(""),[h,j]=t(!0),[v,I]=t("asc");return n((()=>{"string"!=typeof m&&l();const e=setTimeout((()=>{if("desc"===v){if(T<-1)return o?setTimeout((()=>{l(),c(!0)}),i):setTimeout((()=>{l(),j(!1)}),s),clearTimeout(e);b((e=>e-1))}if("asc"===v){if(T>=m.length)return u?I("desc"):o?setTimeout((()=>{l(),c(!0)}),i):setTimeout((()=>{l(),j(!1)}),s),clearTimeout(e);b((e=>e+1))}D(m.slice(0,T+1))}),p);return()=>clearTimeout(e)}),[T,p,m,o,u,v,s,c,i]),m?e.createElement(O,Object.assign({},E),x,h&&e.createElement(a,{cursor:d,delay:f,color:g})):null},s=e.memo((({text:a=[],repeat:i=0,repeatDelay:c=1e3,onAnimationEnd:y,indexTrigger:u=0})=>{const[m,p]=t(0),[d,f]=t(0),[g,E]=t(!1),[O,T]=t(!1),b=r((()=>{"function"!=typeof y||O||u!==m?p((e=>e+1)):(y(),T(!0))}),[u,O,y,m]);n((()=>{if(!i||i<-1||d>=i&&-1!==i)return E(!1);g&&(p(-1),f((e=>e+1)),E(!1))}),[g,i,d]),n((()=>{-1===m&&p(0)}),[m]);const x=o((()=>a.slice(0,m+1)),[a,m]),D=g&&d<i;return e.createElement(e.Fragment,null,D?null:x.map(((t,n)=>t.text?e.createElement(s,Object.assign({key:t.text[0].content},t,{onAnimationEnd:b})):e.createElement(l,Object.assign({key:t.content},t,{handleEndOfTyping:b,setIsEnded:E,isLast:n===a.length-1,nextDelay:"number"==typeof a[n+1]?a[n+1]:0,repeatDelay:c})))))}));s.displayName="TypeAnimation";export{s as default};
//# sourceMappingURL=index.es.js.map
